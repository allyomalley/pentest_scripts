from shodan import Shodan
import sys

domain = sys.argv[1]
hosts=[]
api = Shodan('YOUR_API_KEY')

results=api.search('hostname:.{}'.format(domain))
try:
	for res in results['matches']:
		hosts.append(''.join(res['hostnames']))
except KeyError:
	pass

with open('shodan_subdomains.txt', 'w') as f:
    for item in hosts:
        f.write("%s\n" % item)
#return hosts
